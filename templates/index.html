<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khokhotiva - Loja Online</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }

        /* CABE√áALHO VERDE */
        .header {
            background: linear-gradient(135deg, #2e7d32, #4caf50);
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .logo {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .slogan {
            font-size: 1.2em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* CATEGORIAS */
        .categories {
            background: white;
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid #4caf50;
        }

        .category-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .category-btn:hover {
            background: #2e7d32;
        }

        /* PRODUTOS */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .product-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            border: 2px solid #e8f5e8;
        }

        .product-card:hover {
            transform: translateY(-5px);
            border-color: #4caf50;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
            background: #f8f8f8;
        }

        .product-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 8px;
        }

        .product-category {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 8px;
        }

        .product-price {
            font-size: 1.3em;
            font-weight: bold;
            color: #e65100;
            margin-bottom: 15px;
        }

        .add-to-cart {
            background: #ff9800;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
            width: 100%;
        }

        .add-to-cart:hover {
            background: #f57c00;
        }

        /* ADMIN LINK */
        .admin-link {
            text-align: center;
            padding: 20px;
            background: white;
            margin: 20px;
            border-radius: 10px;
        }

        .admin-btn {
            background: #2196f3;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 25px;
            transition: background 0.3s;
        }

        .admin-btn:hover {
            background: #1976d2;
        }

        /* CARRINHO FIXO */
        .cart-floating {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #ff9800;
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-icon {
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <!-- CABE√áALHO VERDE -->
    <header class="header">
        <div class="logo">üå± Khokhotiva</div>
        <div class="slogan">Sua loja online de alimentos frescos e de qualidade</div>
        <div class="contact-info">
            <div class="contact-item">üìç Gaza, Ch√≥kw√®, ISPG</div>
            <div class="contact-item">üìû +258 861222095</div>
            <div class="contact-item">‚úâÔ∏è contato@khokhotiva.com</div>
        </div>
    </header>

    <!-- CATEGORIAS -->
    <section class="categories">
        <button class="category-btn">Todos os Produtos</button>
        <button class="category-btn">Frutas</button>
        <button class="category-btn">Legumes</button>
        <button class="category-btn">Gr√£os</button>
        <button class="category-btn">Bebidas</button>
        <button class="category-btn">Outros</button>
    </section>

    <!-- PRODUTOS -->
    <section class="products-grid">
        {% for product in products %}
        <div class="product-card">
            {% if product[5] %}
                <img src="{{ product[5] }}" alt="{{ product[1] }}" class="product-image">
            {% else %}
                <img src="https://via.placeholder.com/250x200/4caf50/white?text=Sem+Imagem" alt="Sem imagem" class="product-image">
            {% endif %}
            <div class="product-name">{{ product[1] }}</div>
            <div class="product-category">{{ product[2] }}</div>
            <div class="product-price">{{ product[3] }} MZN</div>
            <button class="add-to-cart" onclick="addToCart({{ product[0] }}, '{{ product[1] }}', {{ product[3] }})">
                üõí Adicionar ao Carrinho
            </button>
        </div>
        {% endfor %}
    </section>

    <!-- LINK ADMIN -->
    <div class="admin-link">
        <a href="/login" class="admin-btn">√Årea de Administra√ß√£o</a>
    </div>

    <!-- CARRINHO FLUTUANTE -->
    <div class="cart-floating" onclick="viewCart()">
        <span class="cart-icon">üõí</span>
        <span id="cart-count">0</span> itens
    </div>

    <script>
        let cart = [];

        function addToCart(productId, productName, price) {
            cart.push({
                id: productId,
                name: productName,
                price: price
            });
            updateCartCount();
            alert(`${productName} adicionado ao carrinho!`);
        }

        function updateCartCount() {
            document.getElementById('cart-count').textContent = cart.length;
        }

        function viewCart() {
            if (cart.length === 0) {
                alert('Carrinho vazio!');
                return;
            }

            let message = "Pedido Khokhotiva üõí\\n\\n";
            let total = 0;

            cart.forEach(item => {
                message += `Produto: ${item.name} - ${item.price} MZN\\n`;
                total += item.price;
            });

            message += `\\nTotal: ${total} MZN\\n\\n`;
            message += "Enviando o comprovante de pagamento para +258 861222095";

            // Abrir WhatsApp
            const whatsappUrl = `https://wa.me/258861222095?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }
    </script>
</body>
</html>